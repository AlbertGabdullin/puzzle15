(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(n,e,t){n.exports=t.p+"static/media/numberBackground.d63d02fd.svg"},36:function(n,e,t){n.exports=t.p+"static/media/background.82b4b299.svg"},37:function(n,e,t){n.exports=t.p+"static/media/board.0df52569.svg"},38:function(n,e,t){n.exports=t.p+"static/media/button.9203b416.svg"},43:function(n,e,t){n.exports=t(69)},54:function(n,e,t){},68:function(n,e,t){},69:function(n,e,t){"use strict";t.r(e);var r={};t.r(r),t.d(r,"ArrowRight",function(){return C}),t.d(r,"ArrowLeft",function(){return S}),t.d(r,"Update",function(){return _});var a=t(0),i=t.n(a),o=t(10),c=t.n(o),u=t(5),l=(t(54),t(30)),s=t(31),d=t(40),m=t(32),h=t(41),f=t(1),p=t(2),v=t(33),g=t.n(v);function b(){var n=Object(f.a)(['\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-family: "Coming Soon", sans-serif;\n  font-size: 35px;\n  line-height: 35px;\n  z-index: 1;\n  border-radius: 5px;\n  width: 100%;\n  height: 100%;\n  background-image: url(',");\n  background-size: contain;\n  background-repeat: no-repeat;\n\n  ","\n\n  @media(max-width: 400px) {\n    font-size: 30px;\n    line-height: 30px;\n  }\n"]);return b=function(){return n},n}function w(){var n=Object(f.a)(["\n  position: absolute;\n  z-index: 1;\n  background: #fff;\n  border-radius: 10px;\n  padding: 5px;\n  background: transparent;\n  cursor: pointer;\n  width: calc((100%) / 4);\n  height: calc((100%) / 4);\n\n  ","\n"]);return w=function(){return n},n}var x=p.a.div(w(),function(n){return n.noBorder&&"\n    z-index: -2;\n  "}),E=p.a.div(b(),g.a,function(n){return n.noBorder&&"\n    border: none;\n    z-index: -1;\n  "}),k=function(n){var e=n.item,t=n.noBorder,r=n.move,a=n.tX,o=n.tY;return i.a.createElement(x,{onClick:function(){return!t&&r(e.line,e.column)},style:{transform:"translate(".concat(a,"px,").concat(o,"px) scale(1.0)")}},i.a.createElement(E,{key:e.number},!t&&e.number))},y=t(36),O=t.n(y),j=t(37),z=t.n(j),C=function(){return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22.876",height:"28.629",viewBox:"0 0 22.876 28.629"},i.a.createElement("path",{id:"Path_1507","data-name":"Path 1507",d:"M194.827,132.3c-.669.835-.841,25.783.42,28.089s21.727-10.1,21.937-14.506S196.509,130.2,194.827,132.3Z",transform:"translate(-194.311 -132.039)",fill:"#eed8a6"}))},S=function(){return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22.843",height:"28.66",viewBox:"0 0 22.843 28.66"},i.a.createElement("path",{id:"Path_1507","data-name":"Path 1507",d:"M216.637,132.3c.668.836.839,25.811-.42,28.12s-21.7-10.116-21.905-14.522S214.958,130.2,216.637,132.3Z",transform:"translate(-194.311 -132.039)",fill:"#eed8a6"}))},_=function(){return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"39.476",height:"38.389",viewBox:"0 0 39.476 38.389"},i.a.createElement("g",{id:"Group_11668","data-name":"Group 11668",transform:"translate(-568.374 -485.362)"},i.a.createElement("g",{id:"Group_4877","data-name":"Group 4877",transform:"translate(568.374 485.362)"},i.a.createElement("path",{id:"Path_1507","data-name":"Path 1507",d:"M10.265.118c.307.384.386,11.868-.193,12.929S.1,8.4,0,6.37,9.494-.846,10.265.118Z",transform:"matrix(0.788, -0.616, 0.616, 0.788, 0, 11.189)",fill:"#eed8a6"}),i.a.createElement("path",{id:"Path_112289","data-name":"Path 112289",d:"M.015,5.516C-.3,5.8,4.566,7.78,5.068,14.3c.31,5.917-3.685,9.029-3.448,9.562.475,1.069,5.989,4.076,6.583,3.363a23.762,23.762,0,0,0,3.976-7.95,19.33,19.33,0,0,0-1.03-11.769C9.479,3.23,5.316.575,5.024.137,4.311-.932,1.084,4.566.015,5.516Z",transform:"translate(7.766 12.11) rotate(-73)",fill:"#eed8a6"})),i.a.createElement("g",{id:"Group_4878","data-name":"Group 4878",transform:"translate(570.242 502.178)"},i.a.createElement("path",{id:"Path_1507-2","data-name":"Path 1507",d:"M10.265.118c.307.384.386,11.868-.193,12.929S.1,8.4,0,6.37,9.494-.846,10.265.118Z",transform:"matrix(-0.788, 0.616, -0.616, -0.788, 37.608, 10.384)",fill:"#eed8a6"}),i.a.createElement("path",{id:"Path_112289-2","data-name":"Path 112289",d:"M.015,5.516C-.3,5.8,4.566,7.78,5.068,14.3c.31,5.917-3.685,9.029-3.448,9.562.475,1.069,5.989,4.076,6.583,3.363a23.762,23.762,0,0,0,3.976-7.95,19.331,19.331,0,0,0-1.03-11.769C9.479,3.23,5.316.575,5.024.137,4.311-.932,1.084,4.566.015,5.516Z",transform:"translate(29.842 9.464) rotate(107)",fill:"#eed8a6"}))))},M=t(38),L=t.n(M);function P(){var n=Object(f.a)(["\n  background-image: url(",");\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  background-size: contain;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  margin-right: 5px;\n  margin-left: 5px;\n"]);return P=function(){return n},n}var T=p.a.div(P(),L.a),N=function(n){var e=n.onClick,t=n.name;return i.a.createElement(T,{onClick:e},Object(a.createElement)(r[t]))};function G(){var n=Object(f.a)(["\n  display: flex;\n"]);return G=function(){return n},n}var A=p.a.div(G()),B=function(n){var e=n.newGame,t=n.prevStep,r=n.nextStep;return i.a.createElement(A,null,i.a.createElement(N,{onClick:e,name:"Update"}),i.a.createElement(N,{onClick:t,name:"ArrowLeft"}),i.a.createElement(N,{onClick:r,name:"ArrowRight"}))},W=t(11),R=function(n,e){var t=n-.5+Math.random()*(e-n+1);return t=Math.round(t)},X=function(n){for(var e={},t=0;t<n.length;t++)for(var r=0;r<n[t].length;r++)0===n[t][r]&&(e={nullLine:t,nullCol:r});return e},D=function(n,e,t){var r=!0,a=!0,i=!0,o=!0,c=Math.abs(e-t[0]),u=Math.abs(n-t[1]);0===n&&(i=!1),0===e&&(r=!1),0===u&&(o=!1),0===c&&(a=!1),0===n&&0===e&&(i=!1,r=!1),0===c&&0===u&&(o=!1,a=!1),0===n&&0===c&&(i=!1,a=!1),0===e&&0===u&&(o=!1,r=!1);var l=["right","top","bottom","left"],s=[{top:i},{right:a},{bottom:o},{left:r}].map(function(n){var e=null;return l.forEach(function(t){n[t]&&(e=t)}),e}).filter(function(n){return null!==n}),d=s[R(0,s.length-1)];return"top"===d?[n-1,e]:"right"===d?[n,e+1]:"left"===d?[n,e-1]:"bottom"===d?[n+1,e]:void 0},U=function(n,e){for(var t=R(150,200),r=0;r<t;r++){var a=X(n),i=a.nullLine,o=a.nullCol,c=D(i,o,e),u=Object(W.a)(c,2),l=u[0],s=u[1],d=n[i][o];n[i][o]=n[l][s],n[l][s]=d}return n},I=function(n,e){var t=n.lineM,r=n.columnM,a=e.lineN,i=e.columnN;return t===a+1&&r===i?"top":t===a-1&&r===i?"bottom":t===a&&r===i-1?"right":t===a&&r===i+1?"left":void 0},V=t(39),Z=t(12),Y=Object(V.a)(function(n,e,t,r){return{tX:Object(Z.spring)(n*(e/n)*(r%4)),tY:Object(Z.spring)(n*(t/n)*Math.floor(r/4))}}),K=function(n){var e=n.matrix,t=n.width,r=n.height,o=n.boardSize,c=n.move,u=[];return e.forEach(function(n,e){n.forEach(function(n,t){var r={number:n,line:e,column:t};u.push(r)})}),u.map(function(n,e){var u=Y(o,t,r,e);return i.a.createElement(Z.Motion,{key:n.number,style:u},function(t){var r=t.tX,o=t.tY;return i.a.createElement(a.Fragment,null,0!==n.number&&i.a.createElement(k,{item:n,index:e,move:c,key:e,tX:r,tY:o}))})})};function J(){var n=Object(f.a)(["\n  width: 100%;\n  height: 100%;\n  position: relative;\n"]);return J=function(){return n},n}function F(){var n=Object(f.a)(["\n  position: absolute;\n  left: 6.25%;\n  top: 6.25%;\n  width: 87.5%;\n  height: 87.5%;\n  background-color: rgba(0, 0, 0, 1);\n  z-index: 10;\n"]);return F=function(){return n},n}function $(){var n=Object(f.a)(["\n  position: relative;\n  height: 100vh;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-size: cover;\n  align-items: center;\n"]);return $=function(){return n},n}function q(){var n=Object(f.a)(["\n  position: relative;\n  width: 400px;\n  height: 400px;\n  padding: 25px;\n  margin: 60px auto 0 auto;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n  margin-bottom: 20px;\n  box-sizing: border-box;\n\n  > * {\n    box-sizing: border-box;\n  }\n\n  @media (max-width: 768px) {\n    max-width: 300px;\n    width: 100%;\n    max-height: 300px;\n    height: 100%;\n    padding: 20px;\n  }\n"]);return q=function(){return n},n}var H=p.a.div(q(),z.a),Q=p.a.div($(),O.a),nn=(p.a.div(F()),p.a.div(J())),en=function(n){function e(){var n,t;Object(l.a)(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=Object(d.a)(this,(n=Object(m.a)(e)).call.apply(n,[this].concat(i)))).innerContainer=Object(a.createRef)(),t.state={},t.resizeBoard=function(){var n=t.innerContainer.current.clientWidth,e=n/4,r=n/4;t.setState({boardSize:n,width:e,height:r})},t.onKeyDown=function(n){38===n.keyCode&&t.props.moveTile("top"),40===n.keyCode&&t.props.moveTile("bottom"),37===n.keyCode&&t.props.moveTile("left"),39===n.keyCode&&t.props.moveTile("right")},t.move=function(n,e){var r=t.props.numbers,a=X(r),i=a.nullLine,o=a.nullCol,c=I({lineM:n,columnM:e},{lineN:i,columnN:o});t.props.moveTile(c)},t}return Object(h.a)(e,n),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.props.newGame();var n=this.innerContainer.current.clientWidth;console.log(n);var e=n/4,t=n/4;this.setState({boardSize:n,width:e,height:t}),document.addEventListener("keydown",this.onKeyDown),window.addEventListener("resize",this.resizeBoard)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("resize",this.resizeBoard)}},{key:"render",value:function(){var n=this.props.matrix,e=this.state,t=e.width,r=e.height,a=e.boardSize,o=this.props,c=o.prevStep,u=o.nextStep,l=o.newGame;return i.a.createElement(Q,{tabIndex:"1"},i.a.createElement(H,{size:a},i.a.createElement(nn,{ref:this.innerContainer},t&&r&&a&&i.a.createElement(K,{width:t,height:r,boardSize:a,matrix:n,move:this.move}))),i.a.createElement(B,{newGame:l,prevStep:c,nextStep:u}))}}]),e}(a.Component),tn=Object(u.b)(function(n){var e=n.game,t=e.counter;return{matrix:e.matrix,counter:t}},function(n,e){return{moveTile:function(e,t){return n({type:"MOVE_TILE",payload:e})},newGame:function(){return n({type:"NEW_GAME",payload:U(e.numbers,e.size)})},nextStep:function(){return n({type:"NEXT_STEP"})},prevStep:function(){return n({type:"PREV_STEP"})}}})(en),rn=(t(68),Object(u.b)(function(n){return{numbers:n.game.matrix,size:n.game.size}})(function(n){return i.a.createElement(tn,n)})),an=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function on(n,e){navigator.serviceWorker.register(n).then(function(n){n.onupdatefound=function(){var t=n.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(n)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(n)))})}}).catch(function(n){console.error("Error during service worker registration:",n)})}var cn=t(4),un=t(7),ln=t(8),sn=function(n,e){var t=e.nullLine,r=e.nullCol;switch(n){case"top":return[t+1,r];case"bottom":return[t-1,r];case"left":return[t,r+1];case"right":return[t,r-1];default:return[t,r]}},dn={matrix:[[1,2,3,4],[5,6,7,8],[9,10,11,12],[13,14,15,0]],steps:[],size:[3,3],index:0},mn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"MOVE_TILE":var t=[],r=e.payload,a=n.index,i=n.counter,o=n.matrix,c=n.steps,u=n.size,l=X(o),s=sn(r,l),d=Object(W.a)(s,2),m=d[0],h=d[1];if(m<0||h<0||m>u[0]||h>u[1])return n;var f=l.nullLine,p=l.nullCol,v=Math.abs(h-p),g=Math.abs(m-f);if(m===f&&1===v||h===p&&1===g){var b=o[f][p];o[f][p]=o[m][h],o[m][h]=b,t=o}return t=o,Object(ln.a)({},n,{matrix:t,counter:i+1,index:a+1,steps:[].concat(Object(un.a)(c),[{line:m,column:h}])});case"NEW_GAME":var w=n.matrix,x=e.payload,E=X(w),k=E.nullLine,y=E.nullCol;return Object(ln.a)({},n,{matrix:Object(un.a)(x),counter:0,steps:[{line:k,column:y}]});case"NEXT_STEP":var O=[],j=n.index,z=n.steps,C=n.matrix,S=z.length>0?z.length-1:0,_=z[j<S?j+1:S],M=_.line,L=_.column,P=X(C),T=P.nullLine,N=P.nullCol,G=Math.abs(L-N),A=Math.abs(M-T);if(M===T&&1===G||L===N&&1===A){var B=C[T][N];C[T][N]=C[M][L],C[M][L]=B,O=C}return O=C,Object(ln.a)({},n,{matrix:Object(un.a)(O),index:j<z.length-1?j+1:z.length-1});case"PREV_STEP":var R=[],D=n.index,U=n.steps,I=n.matrix,V=D>0?D-1:0,Z=U[V],Y=Z.line,K=Z.column,J=X(I),F=J.nullLine,$=J.nullCol,q=Math.abs(K-$),H=Math.abs(Y-F);if(Y===F&&1===q||K===$&&1===H){var Q=I[F][$];I[F][$]=I[Y][K],I[Y][K]=Q,R=I}return R=I,Object(ln.a)({},n,{matrix:Object(un.a)(R),index:V});default:return n}},hn={},fn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn;return(arguments.length>1?arguments[1]:void 0).type,n},pn=Object(cn.b)({game:mn,timerReducer:fn}),vn=Object(cn.c)(pn,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(i.a.createElement(u.a,{store:vn},i.a.createElement(rn,null)),document.getElementById("root")),function(n){if("serviceWorker"in navigator){if(new URL("albertgabdullin.github.io/puzzle15",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("albertgabdullin.github.io/puzzle15","/service-worker.js");an?(function(n,e){fetch(n).then(function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(n){n.unregister().then(function(){window.location.reload()})}):on(n,e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e,n),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):on(e,n)})}}()}},[[43,1,2]]]);
//# sourceMappingURL=main.240469a7.chunk.js.map